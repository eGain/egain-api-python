# Retrieve
(*aiservices.retrieve*)

## Overview

### Available Operations

* [retrieve_chunks](#retrieve_chunks) - Retrieve Chunks

## retrieve_chunks

The Retrieve API enables enterprises to directly access relevant content chunks from their organizational knowledge sources. It is designed for scenarios where developers want granular control over retrieved information, such as powering custom search, analytics, or retrieval-augmented generation (RAG) pipelines. <br><br> In addition to raw chunk retrieval, the API can return **Certified Answers** if it meets the 'Certified Answer' threshold score. Responses include relevance scores, metadata, and references to maintain transparency and flexibility. By leveraging the Retrieve API, organizations can build tailored experiences while retaining confidence in the source material.

### Example Usage

<!-- UsageSnippet language="python" operationID="retrieveChunks" method="post" path="/{portalID}/retrieve" -->
```python
from egain_api_python import Egain
import os


with Egain(
    access_token=os.getenv("EGAIN_ACCESS_TOKEN", ""),
) as egain:

    res = egain.aiservices.retrieve.retrieve_chunks(q="fair lending", portal_id="PROD-1000", filter_user_profile_id="PROD-3210", language="en-US", filter_tags={
        "PROD-1234": [
            "PROD-2000",
            "PROD-2003",
        ],
        "PROD-2005": [
            "PROD-2007",
        ],
    }, channel={
        "name": "Eight Bank Website",
    })

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                                                                                                 | Type                                                                                                                                                                                                      | Required                                                                                                                                                                                                  | Description                                                                                                                                                                                               | Example                                                                                                                                                                                                   |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `q`                                                                                                                                                                                                       | *str*                                                                                                                                                                                                     | :heavy_check_mark:                                                                                                                                                                                        | The search query string. The string must be escaped as required by the URL syntax rules.                                                                                                                  | fair lending                                                                                                                                                                                              |
| `portal_id`                                                                                                                                                                                               | *str*                                                                                                                                                                                                     | :heavy_check_mark:                                                                                                                                                                                        | The ID of the portal being accessed.<br><br>A portal ID is composed of a 2-4 letter prefix, followed by a dash and 4-15 digits.                                                                           | PROD-1000                                                                                                                                                                                                 |
| `filter_user_profile_id`                                                                                                                                                                                  | *Optional[str]*                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                        | N/A                                                                                                                                                                                                       | PROD-3210                                                                                                                                                                                                 |
| `language`                                                                                                                                                                                                | [Optional[models.LanguageCodeParameter]](../../models/languagecodeparameter.md)                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                        | The language that describes the details of a resource. Resources available in different languages may differ from each other. <br><br> If lang is not passed, then the portal's default language is used. | en-US                                                                                                                                                                                                     |
| `filter_tags`                                                                                                                                                                                             | Dict[str, List[*str*]]                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                        | An object where each key is a **Category Tag ID** (numeric string),  <br/>and each value is an array of **Tag IDs** for that category.<br/>                                                               | {<br/>"PROD-1234": [<br/>"PROD-2000",<br/>"PROD-2003"<br/>],<br/>"PROD-2005": [<br/>"PROD-2007"<br/>]<br/>}                                                                                               |
| `filter_topic_ids`                                                                                                                                                                                        | List[*str*]                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                        | An array of topic IDs. It is used to restrict search results to specific topics.                                                                                                                          |                                                                                                                                                                                                           |
| `channel`                                                                                                                                                                                                 | [Optional[models.RetrieveRequestChannel]](../../models/retrieverequestchannel.md)                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                        | N/A                                                                                                                                                                                                       |                                                                                                                                                                                                           |
| `event_id`                                                                                                                                                                                                | *Optional[str]*                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                        | Unique ID for this specific API call or event.                                                                                                                                                            |                                                                                                                                                                                                           |
| `session_id`                                                                                                                                                                                              | *Optional[str]*                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                        | ID that ties multiple API calls to the same user session. Will be used as part of to tie events back to a session.                                                                                        |                                                                                                                                                                                                           |
| `retries`                                                                                                                                                                                                 | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                        | Configuration to override the default retry behavior of the client.                                                                                                                                       |                                                                                                                                                                                                           |
| `server_url`                                                                                                                                                                                              | *Optional[str]*                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                        | An optional server URL to use.                                                                                                                                                                            | http://localhost:8080                                                                                                                                                                                     |

### Response

**[models.RetrieveResponse](../../models/retrieveresponse.md)**

### Errors

| Error Type               | Status Code              | Content Type             |
| ------------------------ | ------------------------ | ------------------------ |
| errors.EgainDefaultError | 4XX, 5XX                 | \*/\*                    |